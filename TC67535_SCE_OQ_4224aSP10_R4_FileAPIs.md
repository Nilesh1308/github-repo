
# Test Case Details
ID: 67535

Name: TC67535_SCE_OQ_4224aSP10_R4_FileAPIs
## Test Steps
|Step |Description | Expected Result|
|---------|----------------------|----------------| 
|1|As org admin user , create a new Study1 using API<br><br>  <br><br>curl -X POST  -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: n4idkmMHmw69PcYPy9WLMJuF" https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/studies -d '{"study": {"name": "Astudy11Sep", "study\_number": 1, "storage\_id":2, "title": "Test unit placebo effect Template","sponsor": "Sycamore Informatics", "phase" : "IIIb", "therapeutic\_area" : "Cardio" }}'|Verify Stud1 should be created successfully<br><br>  <br><br>\[Bug 39668\]| 
|2|Create Folder programs , data, data1, results using Folder API.<br><br>  <br><br>curl -X POST  -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: n4idkmMHmw69PcYPy9WLMJuF" https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders -d '{"folder": {"name": "data", "folder\_type\_id": 8, "permission\_type":"unblinded" }, "folder\_id": "23584"}'|Verify Folders are created Successfully<br><br>  <br><br>\[Bug 39668\]| 
|3|Upload files to programs folder using file upload API<br><br>in to programs folder  file\_copier.rb, dm\_sas7bdat\_prog.sas, input.txt, input1.txt<br><br>  <br><br>curl -i -H "Accept: application/json" -H "Authorization: n4idkmMHmw69PcYPy9WLMJuF" -F 'user\_file\[attachment\]'=@C:\\\\Testing\\\\input.txt https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/23587/files|Verify files are uploaded successfully in to programs folder<br><br>  <br><br>\[Bug 39668\]| 
|4|**Collocated Import**<br><br>  <br><br>Using the following collocated API import file\_copier.rb and input.txt into data folder<br><br>  <br><br>curl -X POST -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: n4idkmMHmw69PcYPy9WLMJuF" https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/23589/import -d '{"import":{"collocated\_source\_path": "/cifsdata/dss/sycamore7/Astudy11Sep/programs/input.txt"}}'<br><br>  <br><br>Log into SCE as usera<br><br>Navigate to the study study36841\_xx mentioned in the pre-requisite<br><br>Navigate to the datafolder<br><br>  <br><br>Mouse hover on icon|Verify that the info icon is present against the files file\_copier.rb and input.txt<br><br>  <br><br>  <br><br>Verify that the import details will be displayed when the user clicks on the information against file\_copier.rb  and input.txt<br><br>  <br><br>Verify that tooltip is shown with the label explaining the time stamp as below:<br><br>"The file was imported and the last modified date of the file in the source was: 01 APR 2019 11:45:00 +5"<br><br>  <br><br>**Example:**<br><br>  <br><br>The file was imported and the last modified date of the file in the source was: **30 Apr 2021 09:42:21 AM (IST)**<br><br>  <br><br>\[Bug 37617\]\[Bug 39668\]<br><br>\[US 36505\]\[US 46532\]| 
|5|Navigate to the version history of an imported file|Verify the source file modified timestamp <br><br>\[US 36505\]\[US 46532\]| 
|6|Navigate to the audit logs|Verify that the audit logs are displayed for the activity type User file create<br><br>Verify that user details of authentication token provided in the collocated API import is displayed in the audit logs| 
|7|**Move File**<br><br>  <br><br>Using the following API move dm\_sas7bdat\_prog.sas from programs folder into data1 folder<br><br>  <br><br>curl -i -H "Accept: application/json" -H "Content-Type: application/json" -H "Authorization: EREYumJGMEEwM88ese8VhCdm" -X POST https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/files/move -d '{"file\_path": "/sycamore7/study36841\_xx/programs/input.txt", "user\_file": {"destination": "/sycamore7/study36841\_xx/data1"} }'|Verify that the info icon is present against the file input.txt that is available in the data folder<br><br>  <br><br>  <br><br>Verify that the import details will be displayed when the user clicks on the information icon<br><br>  <br><br>\[Bug 39668\]| 
|8|Login to Windows File share .Navigate to Study1created in Step1.<br><br>Navigate to data folder, try edit the input.txt file and save.<br><br>  <br><br>Navigate to data1 folder try edit the dm\_sas7bdat\_prog.sas and save<br><br>  <br><br>Navigate to programs folder  , try edit the input1.txt file and save|Verify user should not be able to edit the files in Study folders of S drive.<br><br>  <br><br>\[Bug 39668\]| 
|9|**Move File from Workspace to Study**<br><br>  <br><br>Using the following API move 'file\_copier.rb' file from programs folder of workspace 'wks1' in to data folder of the study study36841\_xx<br><br>  <br><br>curl -X POST -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: TRe7kLaGWBfhqELbfQxf7pRB" https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/21294/files/427168/move -d '{"user\_file": {"destination": "/sycamore7/study36841\_xx​​​​​​​/programs"}}'|Verify the file 'file\_copier.rb' is moved from 'programs' folder of the workspace 'wks1' in to data folder of the study 'study36841\_xx'| 
|10|Navigate to the audit logs of the study study36841\_xx|Verify there should be no duplicate audit log entries for "File move" operation via API<br><br>  <br><br>**NOTE:** In this case, there should one entry for the file moved from Program to data folder with in the study and another entry for the file moved from workspace folder to Study folder.<br><br>  <br><br>\[Bug 37916\]<br><br>  <br><br>**Example​​​​​​​**<br><br>User File Move internalqa+oa5@sycamoreinformatics.com (oa5/oa5) as **Study Creator** 05 Jun 2021 10:44:44 AM UTC<br><br>The File **Name:** file\_copier2.rb (v1) in **Folder Name:** programs  <br>**Location:** /sycamore7/study36841\_xx was moved to **Folder Name:** data  <br>**Location:** /sycamore7/study36841\_xx.| 
|11|**Program execution**<br><br>Navigate back to program folders of the study<br><br>  <br><br>Run the program programs/file\_copier.rb<br><br>  <br><br>Navigate to results folder|Verify that when the User clicks on the information icon against output.txt, import details will be displayed.<br><br>  <br><br>**Example:**<br><br>The file was imported and the last modified date of the file in the source was: **03 May 2021 04:30:03 PM (IST)**<br><br>  <br><br>Verify that DATE MODIFIED of output.txt is not displayed as blank<br><br>\[BUG 37082\]| 
|12|**Zip file extraction**<br><br>  <br><br>Navigate to results folder<br><br>Upload the attached TEST.zip file<br><br>Unzip the file|Verify that the files that are extracted will contain information icon <br><br>  <br><br>Verify that when the User clicks on the information icon against an unzipped file,  import details will be displayed<br><br>  <br><br>**Example:**<br><br>The file was imported and the last modified date of the file in the source was: **15 Apr 2021 06:49:08 PM (IST)** ​​​​​​​​​​​​​​| 
|13|**Clipboard Copy**<br><br>  <br><br>Copy file input.txt from data folder into results folder using clipboard copy feature|Verify that the file that is copied will contain information icon <br><br>  <br><br>Verify that when the user clicks on the information icon against an unzipped file,  import details will be displayed<br><br>  <br><br>**Example:**<br><br>The file was imported and the last modified date of the file in the source was: **22 Apr 2021 01:32:18 PM (IST)**| 
|14|**Clipboard Move**<br><br>  <br><br>Move file input.txt from results folder into data folder  using clipboard move feature|Verify that the files that are extracted will contain information icon <br><br>  <br><br> ​​​​​​​<br><br>**Example:**<br><br>The file was imported and the last modified date of the file in the source was: **26 Apr 2021 01:30:48 PM (IST)**| 
|15|Use the following Get List API to get the list of files in the "results" folder<br><br>  <br><br>curl -i -H "Accept: application/json" -H "Content-Type: application/json" -H "Authorization: n4idkmMHmw69PcYPy9WLMJuF" -X GET [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/21352/files](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/21352/files)|Verify Get List API should list all the files present in '**results**' folder and the API output list should not include the 'input.txt' file since it is moved from 'results' folder<br><br>  <br><br>\[Bug 37986\]| 
|16|Navigate to SCE UI<br><br>  <br><br>Copy file\_copier.rb and input.txt from programs and data folder of study into programs and data folder of the workspace|Verify that the DATE MODIFIED is not  blank  for file\_copier.rb and input.txt in the workspace<br><br>\[BUG 37082\]| 
|17|Use the following Get List API to get the list of files in the "programs" folder of the study<br><br>  <br><br>curl -i -H "Accept: application/json" -H "Content-Type: application/json" -H "Authorization: n4idkmMHmw69PcYPy9WLMJuF" -X GET [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/21350/files](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/21352/files)|Verify Get List API should list all the files present in '**programs**' folder of the study as it is listed on the UI<br><br>  <br><br>\[Bug 37986\]| 
|18|Navigate to the programs folder and make a note of "LAST ACTION TIME" and "DATE MODIFIED" columns for the file "file\_copier.rb".|Verify that date and time of "LAST ACTION TIME" and "DATE MODIFIED" recorded for the file "file\_copier.rb" from programs folder.| 
|19|**Delete Files Using Delete API in Study**<br><br>Using the following Delete API, delete file\_copier.rb from programs folder in Study.<br><br>  <br><br>Provide the authentication token of usera <br><br>  <br><br>curl -X DELETE  -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: xxxxxxx" [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/3547/files/6862](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/3547/files/6862)<br><br>  <br><br>Navigate to the UI and check in programs folder.<br><br>  <br><br>Check the files in trash folder.​​​​​​​<br><br>  <br><br>In Fileshare, check the files in programs folder|  <br><br>Verify that file is deleted successfully<br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>Verify that the file\_copier.rb is not displayed in programs folder in UI.<br><br>  <br><br>Verify that deleted file  file\_copier.rb is displayed in the trash folder.<br><br>  <br><br>Verify that the file\_copier.rb is not displayed in programs folder in Fileshare.<br><br>  <br><br>\[US: 38902\]\[BUG 38032\] \[BUG 66692\]| 
|20|Navigate to the trash folder and check the "LAST ACTION TIME" and "DATE MODIFIED" columns.|Verify that "LAST ACTION TIME" and "DATE MODIFIED" columns with date and time is displayed correctly in the trash folder as recorded in programs folder.<br><br>\[US: 38902\]| 
|21|Navigate to the Audit logs|Verify that a single record is displayed for the Activity type User File Delete<br><br>  <br><br>User File Delete<br><br>usera@sycamoreinformatics.com (usera/iusera) as **BlindedUserAllAccessNoDocuments** 12 Jun 2021 07:22:06 AM UTCSycamore CDR-SCE Version: 4.2.0.0<br><br>**Name:** raw\_dm2.sas7bdat (v1) was deleted from folder **Folder Name:** data  <br>**Location:** /sycamore7/dss32832\_01.<br><br>  <br><br>\[BUG 38032\]\[BUG 39240\] \[BUG 66692\]| 
|22|​​​​​**Re-execute the same api to delete the same file file\_copier.rb that is deleted in Step19.**<br><br>  <br><br>curl -X DELETE  -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: xxxxxxx" [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/3547/files/6862  <br>](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/3547/files/6862)|Verify that API throws the following error {"error":"File does not exist"}.<br><br>  <br><br>Also verify that in UI deleted file  file\_copier.rb is still displayed in the trash folder.<br><br>  <br><br>\[BUG 66692\]| 
|23|Use the following Get List API to get the list of files in the "programs" folder of the workspace<br><br>  <br><br>curl -i -H "Accept: application/json" -H "Content-Type: application/json" -H "Authorization: n4idkmMHmw69PcYPy9WLMJuF" -X GET [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/21355/files](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/21352/files)|Verify Get List API should list all the files present in '**programs**' folder of the workspace as it is listed on the UI and also verify API list output should not include the deleted file 'file\_copier.rb'<br><br>  <br><br>\[Bug 37986\]| 
|24|**Restore deleted Files from Trash**<br><br>  <br><br>Navigate back to SCE UI<br><br>Restore the 'file\_copier.rb' from Trash.  <br><br>  <br><br>Check the files in programs folder in both UI and Fileshare.<br><br>  <br>​​​​​​​|Verify that file file\_copier.rb is restored and displayed in programs folder in both UI and Fileshare.<br><br>  <br><br>Verify that file is not displayed in trash folder.<br><br>  <br><br>Also verify that an entry is captured in audit log as below.<br><br>  <br><br>User File Move internalqa2+usera@sycamoreinformatics.com (internalqa2usera) as **GlobalBiostatistician** 03 Jul 2023 07:40:57 AM UTC**Study Name: (smk\_study\_07032023) |** Sycamore CDR-SCE Version: 4.2.2.4a<br><br>The File **Name:** raw\_dm.sas7bdat (v2) in **Folder Name:** trash  <br>**Location:** /cslreview/smk\_study\_07032023 was moved to **Folder Name:** programs  <br>**Location:** /cslreview/smk\_study\_07032023.<br><br>  <br><br>\[Bug 37986\] \[BUG 66692\]| 
|25|Use the following Get List API to get the list of files in the "programs" folder of the study after restoring the deleted file<br><br>  <br><br>curl -i -H "Accept: application/json" -H "Content-Type: application/json" -H "Authorization: n4idkmMHmw69PcYPy9WLMJuF" -X GET [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/21355/files](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/21352/files)|Verify Get List API should list all the files present in '**programs**' folder of the study as it is listed on the UI and also verify API list output should include the restored file 'file\_copier.rb'<br><br>  <br><br>\[Bug 37986\]| 
|26|**Delete Files Using Delete API with incorrect FolderID in Study**<br><br>  <br><br>​​​​​​​<br><br>Using the following Delete API, delete dm\_sas7bdat\_prog.sas<br><br>Provide the authentication token of usera and incorrect FolderID<br><br>  <br><br>Eg:, curl -X DELETE  -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: xxxxxxx" [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/35474555/files/6862](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/3547/files/6862)​​​​​​​|Verify that Delete API returns as error message as shown in the example below;<br><br>  <br><br>{"error":"Folder ID 35474555 is incorrect"}| 
|27|**Delete Files Using Delete API in Workspace**<br><br>Using the following Delete API, delete file\_copier.rb from programs folder in workspace<br><br>  <br><br>Provide the authentication token of usera <br><br>  <br><br>curl -X DELETE  -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: xxxxxxx" [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/3549/files/6864](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/3547/files/6862)<br><br>  <br><br>Navigate to the UI and check in programs folder in workspace.<br><br>  <br><br>  <br><br>In Fileshare, check the files in programs folder in workspace.|  <br><br>  <br><br>  <br><br>Verify that file file\_copier.rb is deleted successfully and displayed in trash folder.<br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>Verify that file\_copier.rb is not displayed in programs folder in UI.<br><br>  <br><br>Verify that the file\_copier.rb is not displayed in programs folder in Fileshare.<br><br>  <br><br>\[BUG 66692\]| 
|28|Navigate to the Audit logs|Verify that an entry is captured as below in the audit log.<br><br>  <br><br>User File Delete internalqa2+usera@sycamoreinformatics.com (internalqa2usera) as **GlobalBiostatistician** 03 Jul 2023 07:45:40 AM UTC**Study Name: (smk\_study\_07032023\_wks1) |** Sycamore CDR-SCE Version: 4.2.2.4a<br><br>**Name:** file\_copier.rb was deleted from folder **Folder Name:** data  <br>**Location:** /cslreview/smk\_study\_07032023\_wks1.<br><br>  <br><br>\[BUG 66692\]| 
|29|**Re-execute the same api to delete the same file file\_copier.rb that is deleted in Step26**  <br><br>  <br><br>curl -X DELETE  -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: xxxxxxx" [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/3549/files/6864  <br>](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/3547/files/6862)|Verify that API throws the following error {"error":"File does not exist"}.  <br><br>  <br><br>Navigate to UI and Verify that deleted file  file\_copier.rb is still displayed in the trash folder.<br><br>  <br><br>Also verify that there is no entry captured in audit log for User File Delete activity.<br><br>  <br><br>\[BUG 66692\]| 
|30|**Restore deleted Files from Trash**<br><br>  <br><br>Navigate back to SCE UI<br><br>Restore the 'file\_copier.rb' from Trash|Verify that file file\_copier.rb is restored and displayed in programs folder in UI and Fileshare.<br><br>  <br><br>Verify that file is not displayed in trash folder.<br><br>  <br><br>Also Verify that an entry is captured in audit log as below.<br><br>  <br><br>User File Move internalqa2+usera@sycamoreinformatics.com (internalqa2usera) as **GlobalBiostatistician** 03 Jul 2023 07:47:04 AM UTC**Study Name: (smk\_study\_07032023\_wks1) |** Sycamore CDR-SCE Version: 4.2.2.4a<br><br>The File **Name:** file\_copier.rb in **Folder Name:** trash  <br>**Location:** /cslreview/smk\_study\_07032023\_wks1 was moved to **Folder Name:** data  <br>**Location:** /cslreview/smk\_study\_07032023\_wks1.<br><br>  <br><br>\[BUG 66692\]| 
|31|**Delete Files Using Delete API with incorrect FolderID in Workspace**<br><br>  <br><br>​​​​​​​<br><br>Using the following Delete API, delete dm\_sas7bdat\_prog.sas<br><br>Provide the authentication token of usera and incorrect FolderID<br><br>  <br><br>curl -X DELETE  -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: xxxxxxx" [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/35494555/files/686](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/3547/files/6862)|Verify that Delete API returns as error message as shown in the example below;<br><br>  <br><br>{"error":"Folder ID 35474555 is incorrect"}| 
|32|Navigate to the Study<br><br>  <br><br>Edit folder type of '**data**' folder as '**Blinded**'<br><br>  <br><br>Edit folder type of '**programs**' folder as '**Unblinded**'<br><br>  <br><br>Invite 'user\_b' with a Blinded role permission<br><br>  <br><br>Invite 'user\_ub' with a Unblinded role permission<br><br>  <br><br>Use the following Get List API to get the list of files in the "Unblinded" folder using the Authorization token of the user 'user\_b' who has blinded role permission<br><br>  <br><br>curl -i -H "Accept: application/json" -H "Content-Type: application/json" -H "Authorization: WwN6TBbm1N8wP1rXLVtLAmsN" -X GET https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/21352/files|Verify the Get List API should display the below error message as the Blinded user does not have permission to access the Unblinded Folder<br><br>  <br><br>{"error": "User internalqa+cuser18@sycamoreinformatics.com is blinded to folder /sycamore7/Study\_100621/programs"}<br><br>  <br><br>\[Bug 37986\]| 
|33|Use the following Get List API to get the list of files in the "blinded" folder using the Authorization token of the user 'user\_ub' who has unblinded role permission<br><br>  <br><br>curl -i -H "Accept: application/json" -H "Content-Type: application/json" -H "Authorization: o34uLCd7sMnA5viFeKahvfMy" -X GET https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/21350/files|Verify Get List API should list all the files present in '**data**' folder of the study as it is listed on the UI<br><br>  <br><br>\[Bug 37986\]| 
|34|**Delete and restore folder with files using Delete API from study**<br><br>  <br><br>Navigate to study- study36841\_xx and note down data1 folder id and current user authorization token to execute delete api.<br><br>  <br><br>Note down the last action time and date modified for all the files inside of data1 folder.<br><br>  <br><br>Using the following Delete API, delete data1 folder from study- study36841\_xx<br><br>  <br><br>Provide the authentication token of usera and folder id<br><br>  <br><br>curl -X DELETE  -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: xxxxxxx" [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/3547](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/3547/files/6862)<br><br>  <br><br>Navigate to trash folder.|Verify that data1 folder is moved to trash folder with files.<br><br>  <br><br>Verify that all the files in trash folder is showing the Date Modified time as of source file date modified time.<br><br>  <br><br>Verify that a tool tip is showing as "This is the time when the file was last modified in CDR-SCE." for Last Action Time column.<br><br>  <br><br>  <br><br>\[US 38612\]<br><br>\[BUG 41238\]\[US 45878\]| 
|35|Restore data1 folder from trash folder to original place and observe|Verify that data1 folder is restored successfully with files.<br><br>  <br><br>Verify that the Date Modified time is showing as of the original Date Modified time.<br><br>  <br><br>\[US 38612\]\[US 45878\]| 
|36|**Delete and restore folder with files using Delete API from workspace**<br><br>  <br><br>Navigate to workspace- study36841\_xx-wks1 and note down data4 folder id and current user authorization token to execute delete api.<br><br>  <br><br>Note down the last action time and date modified for all the files inside of data4 folder.<br><br>  <br><br>Using the following Delete API, delete data4 folder from workspace- study36841\_xx-wks1<br><br>  <br><br>Provide the authentication token of usera and folder id<br><br>  <br><br>curl -X DELETE  -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: xxxxxxx" [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/3547](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/3547/files/6862)<br><br>  <br><br>Navigate to trash folder in workspace and check the last modified and date modified columns.|Verify that data4 folder is moved to trash folder with files.<br><br>  <br><br>Verify that all the files in trash folder is showing the Date Modified time as of source file date modified time.<br><br>  <br><br>Verify that a tool tip is showing as "This is the time when the file was last modified in CDR-SCE." for Last Action Time column.<br><br>  <br><br>  <br><br>\[US 38612\]\[US 45878\]<br><br>\[BUG 41238\]<br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>Verify that deleted file  is displayed in the trash folder.<br><br>\[US: 38902\]| 
|37|Navigate to the trash folder in workspace and check the "LAST ACTION TIME" and "DATE MODIFIED" columns .|Verify that "LAST ACTION TIME" and "DATE MODIFIED" columns ​​​​​​​with date and time is displayed correctly in the trash folder as recorded in source folder.<br><br>\[US: 38902\]| 
|38|Restore data1 folder from trash folder to original place and observe|Verify that data4 folder is restored successfully with files.<br><br>  <br><br>Verify that the Date Modified time is showing as of the original Date Modified time.<br><br>  <br><br>\[US 38612\]\[US 45878\]| 
|39|**Delete files from workspace through program that uses API:**<br><br>  <br><br>Navigate to programs folder in the workspace and u​​​pload the attached program (program\_with\_API\_to\_delete\_file.sas) in programs folder.<br><br>  <br><br>Note: dataset mentioned in the program (mentioned as file\_id) should be there in the folder (mentioned as folder\_id) and the dataset should not be converted to csv.<br><br>  <br><br>Detect the dependencies and execute the program (program\_with\_API\_to\_delete\_file.sas).|Verify that program (program\_with\_API\_to\_delete\_file.sas) is executed successfully without any error/warning in the log file and the dataset file (mentioned as file\_id) is deleted from the source directory.<br><br>  <br><br>Verify that file is moved to trash folder and the same is captured in audit log.<br><br>  <br><br>Also verify that file is not visible in the source directory in File share.<br><br>  <br><br>\[BUG 65960\]| 
|40|In SCE UI, upload the dataset file that is deleted through program in previous step.|Verify that file is uploaded successfully and is visible in the UI.<br><br>  <br><br>Also verify that uploaded file is visible in File share.<br><br>  <br><br>\[BUG 65960\]| 
|41|**Delete files from study through program that uses API:**<br><br>  <br><br>Merge the program to study.  <br><br>  <br><br>Update the file\_id and folder\_id in the program with folder and file details in the study.|  <br><br>  <br><br>Verify that program is merged successfully.<br><br>  <br><br>Verify that program is updated successfully.<br><br>  <br><br>\[BUG 65960\]| 
|42|Execute the program (program\_with\_API\_to\_delete\_file.sas).|Verify that program (program\_with\_API\_to\_delete\_file.sas) is executed successfully without any error/warning in the log file and the dataset file (mentioned as file\_id) is deleted from the source directory.<br><br>  <br><br>Verify that file is moved to trash folder and the same is captured in audit log.<br><br>  <br><br>Also verify that file is not visible in the source directory in File share.<br><br>  <br><br>\[BUG 65960\]| 
|43|In SCE UI, upload the dataset file that is deleted through program in previous step.|Verify that file is uploaded successfully and is visible in the UI.<br><br>  <br><br>Also verify that uploaded file is visible in File share.<br><br>  <br><br>\[BUG 65960\]| 
|44|**Delete folder with files using Delete API, using a user who doesn't have access to this study**<br><br>  <br><br>Navigate to study- study36841\_xx and note down data2 folder id and also note down the authorization token of the user who doesn't have access to this study<br><br>  <br><br>Using the following Delete API, delete data1 folder from study- study36841\_xx<br><br>  <br><br>curl -X DELETE  -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: xxxxxxx" [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/3547](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/3547/files/6862)<br><br>  <br><br>Navigate to trash folder.|Verify that system is showing an error as "You don't have Delete permissions for this folder."<br><br>  <br><br>  <br><br>\[US 38612\]\[US 45878\]| 
|45|**Delete folder with files using Delete API, using a user who doesn't have access to the workspace**<br><br>  <br><br>Navigate to workspace- study36841\_xx-wks1 and note down data5 folder id and also note down the authorization token of the user who doesn't have access to this workspace<br><br>  <br><br>Using the following Delete API, delete data1 folder from study- study36841\_xx-wks1<br><br>  <br><br>curl -X DELETE  -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: xxxxxxx" [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/3547](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/3547/files/6862)<br><br>  <br><br>Navigate to trash folder.|Verify that system is showing an error as "You don't have Delete permissions for this folder."<br><br>  <br><br>  <br><br>\[US 38612\]\[US 45878\]| 
|46|**Delete folder with files using Delete API, using a user who have access to the study but doesn't have access to folder**<br><br>  <br><br>Navigate to study- study36841\_xx and note down data3 folder id and assign a user to the study and remove the folder type permission for data3 folder<br><br>  <br><br>Using the following Delete API, delete data1 folder from study- study36841\_xx<br><br>  <br><br>curl -X DELETE  -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: xxxxxxx" [https://sce-staging-one.sycamoreinformatics.com/client\_api/v1/folders/3547](https://sce-staging-one.sycamoreinformatics.com/client_api/v1/folders/3547/files/6862)<br><br>  <br><br>Navigate to trash folder.|Verify that system is showing an error as "You don't have Delete permissions for this folder."<br><br>  <br><br>  <br><br>\[US 38612\]\[US 45878\]| 
|47|Navigate to programs folder and upload a file.<br><br>  <br><br>Update the uploaded file multiple times to up version the file to Version 26 and different versions should have different file size|Verify the file version is updated to V26<br><br>  <br><br> \[Bug 44807\] \[BUG 65829\]| 
|48|**Get Version details using API:**<br><br>**​​​​​​​**<br><br>Execute the below API to fetch the latest 25 version details<br><br>  <br><br>curl -X GET -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: xxxxxx" https://sce-review-csl.sycamoreinformatics.de/client\_api/v1/files/version\_details -d '{"file\_path": "/cslreview/smk\_study\_xx\_0623/programs/test\_file1.txt"}'<br><br>  <br><br>Run the below API to get the version details in second page.<br><br>curl -X GET -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: xxxxxx" https://sce-review-csl.sycamoreinformatics.de/client\_api/v1/files/version\_details?page=2 -d '{"file\_path": "/cslreview/smk\_study\_xx\_0623/programs/test\_file1.txt"}'|Verify all the version of the file\_copier.rb should be fetched and displayed.<br><br>File size and created date/time should also be displayed for all versions and it should match with UI.<br><br>  <br><br> \[Bug 44807\] \[BUG 65829\]| 
|49|Execute the Below API with<br><br>Invalid File Name<br><br>Invalid Folder Name <br><br>Different Study Name where file does not exist<br><br> and observe<br><br>  <br><br>curl -X GET -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: xxxxxx" https://sce-review-csl.sycamoreinformatics.de/client\_api/v1/files/version\_details -d '{"file\_path": "/cslreview/smk\_study\_xx\_0623/programs/non\_existing\_file.txt"}'|Verify in all the cases it should display the valid error message and not Http 500 error.<br><br>  <br><br>“{"error":"Requested file not found with path /bmsdevr2/smk\_study08Mar2101/programs/Fiile\_copier\_Version.rb"}”<br><br>  <br><br> \[Bug 44807\] \[BUG 65829\]| 
|50|**Upload only file path using API and observe error:**<br><br>Navigate to any folder (Ex: Programs) and try to upload a file path instead of the actual file name using API.<br><br>Example API:<br><br>  <br><br>curl -X POST -H "Accept: Application/json" -H "Authorization: 71ES2dUKttbZq9NiUBVyLcxH" https://sce-dev-ds.sycamoreinformatics.com/client\_api/v1/folders/3389/files -F user\_file\[attathcment\_file\_name\]="C:\\Testing\\" -F user\_file\[attachment\]=@"C:\\Testing\\"|Verify that system displays an error message as `"error":"Failed to upload files."}` .<br><br>  <br><br>\[Bug: 47342\]\[BUG 48644\]\[BUG 47988\]|