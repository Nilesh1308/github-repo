
# Test Case Details
ID: 65419

Name: TC65419_SCE_OQ_4224aSP10_WorkspaceManagement
## Test Steps
|Step |Description | Expected Result|
|---------|----------------------|----------------| 
|1|Log into SCE as org admin<br><br>Navigate to Configuration page and verify the  check box Workspaces are private configuration|Verify that the check box Workspaces are private configuration is unchecked    <br><br>  <br><br>\[US 30178\]| 
|2|**Verify that user will be able to subscribe to the workspace when Workspaces are private configuration is unchecked**<br><br>  <br><br>Login as User01<br><br>Navigate to the study  STUDY29538\_xx<br><br>Subscribe to Workspace WKS1|Verify User01 is added to Workspace<br><br>  <br><br>\[US 30178\]| 
|3|Observe the Workspace Icons in left Pane|Verify the Colour of the Icons (Folder, task and Access ) should be displayed in Blue colour. <br><br>  <br><br>\[US 28767\]| 
|4|Observe the Bottom Left corner in left pane|Verify there should be Label "You are Viewing WORKSPACE"<br><br>\[US 28767\]| 
|5|Navigate to Programs folder and Click on File.<br><br>  <br><br>Observe the Label at Left Bottom from File Editor page|Verify  the Label  "You are Viewing WORKSPACE" should be visible from the file editor page .<br><br>  <br><br>\[US 28767\]| 
|6|Run any SAS program|Verify program is executed.| 
|7|Navigate to Job History and Observe the Label at Left Bottom in the page|Verify  the Label  "You are Viewing WORKSPACE" should be visible from the page .<br><br>\[US 28767\]| 
|8|Click on Icon and observe the Label at Left Bottom from File run history details page|Verify  the Label  "You are Viewing WORKSPACE" should be visible from the page .<br><br>\[US 28767\]| 
|9|Navigate to task and observe|Verify the Colour of the Icons (Folder, task and Access ) should be displayed in Blue colour. <br><br>  <br><br>Verify there should be Label "You are Viewing WORKSPACE" on the left bottom<br><br>  <br><br>\[US 28767\]| 
|10|Navigate to Access control and Observe|Verify the Colour of the Icons (Folder, task and Access ) should be displayed in Blue colour. <br><br>  <br><br>Verify there should be Label "You are Viewing WORKSPACE" on the left bottom<br><br>  <br><br>\[US 28767\]| 
|11|Go to Manage -> Batches and Observe|Verify the Colour of the Icons (Folder, task and Access ) should be displayed in Blue colour. <br><br>  <br><br>Verify there should be Label "You are Viewing WORKSPACE" on the left bottom<br><br>  <br><br>\[US 28767\]| 
|12|Click on Audit logs.<br><br>  <br><br>Observe the Audit log Screen|Verify  the Label  "You are Viewing WORKSPACE" should be visible from the page  on bottom left<br><br>  <br><br>\[US 28767\]| 
|13|**Verify that user will be able to access the workspace to which the user is already subscribed when check box "Workspaces are private configuration is checke****d" is unchecked**<br><br>  <br><br>Login as user01<br><br>Navigate to the study STUDY29538\_xx<br><br>Try to navigate to  workspace WKS01|Verify that user01 will be able to navigate to the workspace WKS01| 
|14|Login as user01<br><br>Navigate to the study STUDY29538\_xx<br><br>Unsubscribe from workspace WKS01|Verify that user01 will be unsubscribed from the workspace WKS01 and will not be able to navigate to the workspace WKS01| 
|15|Log into SCE as study owner SO1<br><br>Navigate to the study STUDY29538\_xx<br><br>Navigate to the workspace WKS01<br><br>Invite user user01 to the workspace WKS01<br><br>  <br><br>Login as user01<br><br>Navigate to the study STUDY29538\_xx<br><br>Try to navigate to the workspace WKS01|Verify that user01 will be able to navigate to the workspace WKS01| 
|16|Try to subscribe to workspace WKS01|Verify that subscribe icon will not be enabled for the user to subscribe| 
|17|Create a workspace WKS02|Verify that workspace WKS02 will be created and the user can navigate to workspace WKS02| 
|18|**Verify that user will be able to create the workspace when Workspaces are private configuration is checked**<br><br>  <br><br>Log into SCE as org admin<br><br>Select the check box Workspaces are private configuration is checked  in the additional configuration page and save|Verify that check box Workspaces are private configuration is checked<br><br>  <br><br>\[US 30178\]| 
|19|**Verify that user will not be able to subscribe to the workspace when Workspaces are private configuration is checked**<br><br>  <br><br>**​**Log into SCE as user02 <br><br>Navigate to the study STUDY29538\_xx<br><br>Try to subscribe to WKS01 and WKS02|Verify that user will not be able to subscribe to the workspace WKS01 and WKS02<br><br>  <br><br>\[US 30178\]| 
|20|As Org admin create 55 studies under a project and assign user1 to these studies|Verify 55 studies are created under the project.<br><br>\[Bug 33329\]| 
|21|Login as User1.<br><br>Access the Project50 and studies under it.|Verify user should be able to access the project50 and Studies under it.<br><br>  <br><br>Verify Application error should not be displayed<br><br>  <br><br>\[Bug 33329\]| 
|22|Login as Org Admin role user and navigate to the above study "STUDY29538\_xx" and go to the "Access List" and observe the users.|Verify that total 3 users(users user01,user02 and user03) are displayed in the "Access List" as specified in the pre-requisite.<br><br>\[Bug: 51356\]| 
|23|**Check permissions Before sync of Study:** <br><br>Login to the remote desktop and check the study folder permissions in S drive (File share).|Verify that folder permissions are same as configured in the SCE UI.<br><br>  <br><br>Verify that folder permissions are not changed from "Read & Write" access to "Full Control" access in s-drive.<br><br>  <br><br>Verify that study is read only in S drive and user does not able to create file/folder in the Study in any folder.<br><br>\[Bug: 54543\]| 
|24|Login to "SAS STUDIO" and check the permissions in study.|​​Verify that the user should NOT be able to create new file/Update an existing file inside any folder in a study from SAS STUDIO.<br><br>​​​​​​​\[Bug: 54543\]| 
|25|SCE-UI: From study, navigate to "Manage->Edit Study" and click on "Sync study".<br><br>Navigate to the study"STUDY29538\_xx" and go to the "Access List" and observe the users.|Verify that sync study is success.<br><br>  <br><br>Verify that previously added 3 users(users user01,user02 and user03) are displayed in the "Access List" after study sync.<br><br>​​​​​​​\[Bug: 51356\]| 
|26|**Check permissions After sync of Study:** <br><br>Login to the remote desktop and check the study folder permissions in S drive (File share).|Verify that folder permissions are same as configured in the SCE UI.<br><br>  <br><br>Verify that folder permissions are not changed from "Read & Write" access to "Full Control" access in S drive.<br><br>  <br><br>Verify that study is read only in S drive and user does not able to create file/folder in the Study in any folder.<br><br>\[Bug: 54543\]| 
|27|**Check permissions Before sync of workspace:** <br><br>**Pre-requisite: User has read access to "Data" folder and write access to "Programs" folder.**<br><br>  <br><br>Login to the remote desktop and and navigate to any workspace(Ex: WKS01) folder permissions in S drive (File share).|Verify that folder permissions are same as configured in the SCE UI.<br><br>​​​​​​​<br><br>Verify that the user should be able to create new file/Update an existing file inside the "Programs" folder in a Workspace .for which User has the Write Access.<br><br>  <br><br>Verify that the user should not be able to create new file/Update an existing file inside the "Data" folder in a Workspace to which User has the read access.<br><br>  <br><br>Verify that the user should not get any error while accessing the S Drive when creating/modifying a file inside the workspace folder for which User has the Write Access Study Role assigned.<br><br>​​​​​​​\[Bug: 54715\] \[BUG 54509\]| 
|28|Navigate to the workspace "WKS01" from study "STUDY29538\_xx" then navigate to "Manage->Edit Workspace" and click on "Sync Workspace".<br><br>  <br><br>Navigate to the "Access List" and observe the users in workspace.<br><br>  <br><br>**​​​​​​​Verify in Edit Workspace Screen User is not able to see the Update Workspace option**|Verify that sync workspace is success.<br><br>  <br><br>Verify that previously added 3 users(users user01,user02 and user03) are displayed in the "Access List" after study sync.<br><br>  <br><br>**User should not be able to see the Update Workspace option in the Edit Workspace Screen**<br><br>**​​​​​​​**<br><br>​​​​​​​\[Bug: 51356\] **\[Bug: 64945\]**| 
|29|**Check permissions After sync of workspace:** <br><br>**Pre-requisite: User has read access to "Data" folder and write access to "Programs" folder.**<br><br>**​​​​​​​**<br><br>After "Sync work space" then login to the remote desktop and and navigate to any workspace(Ex: WKS01) folder permissions in S drive (File share).|**Verify while accessing the S Drive The workspace which was synced in the previous  step is not seen directly under s:drive**<br><br>**and workspace should be available only inside the Project(Project50)**<br><br>**​​​​​​​**<br><br>Verify that folder permissions are same as configured in the SCE UI.<br><br>  <br><br>Verify that the user should be able to create new file/Update an existing file inside the "Programs" folder in a Workspace for which User has the Write Access.<br><br>  <br><br>Verify that the user should not be able to create new file/Update an existing file inside the "Data" folder in a Workspace to which User has the read access.<br><br>  <br><br>Verify that the user should not get any error while accessing the S Drive when creating/modifying a file inside the workspace folder for which User has the Write Access Study Role assigned.<br><br>  <br><br>  <br><br>​​​​​​​\[Bug: 54715\] \[BUG 54509\] **\[Bug: 64945\]**| 
|30|Try to update workspace using API   <br><br>  <br><br>In the following command replace TOBEUPDATED with the actual value and execute:  <br><br>curl -X PUT  -H "Accept: Application/json" -H "Content-Type: application/json" -H "Authorization: TOBEUPDATED" https://sce-review-csl.sycamoreinformatics.de/client\_api/v1/studies/TOBEUPDATED  -d '{"study": {"name": "TESTING" }}'|Verify that user will not be able to update the workspace and the following error is displayed "Cannot Update Workspace"| 
|31|Login to "SAS STUDIO" and check the permissions in workspace.|Verify that folder permissions are same as configured in the SCE UI.<br><br>​​​​​​​<br><br>Verify that the user should be able to create new file/Update an existing file inside the "Programs" folder in a Workspace for which User has the Write Access.<br><br>  <br><br>Verify that the user should not be able to create new file/Update an existing file inside the "Data" folder in a Workspace to which User has the read access.<br><br>  <br><br>​​​​​​​\[Bug: 54715\] \[BUG 54509\]| 
|32|Login as user01, user02 and user03 and navigate to the study "STUDY29538\_xx" after sync.|Verify that the assigned users are able to login and access the study after sync.<br><br>​​​​​​​\[Bug: 51356\]| 
|33|Login as user01, user02 and user03 and navigate to the workspace "WKS01" from study "STUDY29538\_xx" **after syn**c.|Verify that the assigned users are able to login and access the workspace **after sync**.<br><br>​​​​​​​\[Bug: 51356\]| 
|34|**Pre-requisite: User has read access to "Data" folder and write access to "Programs" folder.**<br><br>Verify this step with all the users user01,user02 and user03.<br><br>Login to the remote desktop and and navigate to any workspace(Ex: WKS01) folder permissions in S drive (File share).|Verify that the user should be able to create new file/Update an existing file inside the "Programs" folder in a Workspace .for which User has the Write Access.<br><br>  <br><br>Verify that the user should not be able to create new file/Update an existing file inside the "Data" folder in a Workspace to which User has the read access.<br><br>  <br><br>Verify that the user should not get any error while accessing the S Drive when creating/modifying a file inside the workspace folder for which User has the Write Access Study Role assigned.<br><br>​​​​​​​\[Bug: 54715\] \[BUG 54509\]| 
|35|Navigate to any study->Manage roles and update any study role by changing folders/permissions and save.|Verify that study role is updated successfully/failed.| 
|36|As Org admin role user, Navigate to Agent Messages" from profile->Manage Organization->Agent Messages".|Verify that "Update Study Roles" message type displays with "failure\_count" and "success\_count".<br><br>  <br><br>Verify that "failure\_count" count does not displays as zero(0) when the study role update fails.<br><br>Example: {"failure\_count"=>1, "success\_count"=>3}  <br><br>\[Bug: 51932\]| 
|37|With the help of Prod-Ops team, check the logs in "Logentries" and check the "failure\_count" and "success\_count" count for that updated study role.|Verify that agent message "failure\_count" and "success\_count"​​​​​​​ matched with the SCE UI and  logs in "Logentries".<br><br>Example: {"failure\_count"=>1, "success\_count"=>3}<br><br>\[Bug: 51932\]<br><br>​​​​​​​|