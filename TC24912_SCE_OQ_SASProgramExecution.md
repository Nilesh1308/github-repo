
# Test Case Details
ID: 24912

Name: TC24912_SCE_OQ_SASProgramExecution
## Test Steps
|Step |Description | Expected Result|
|---------|----------------------|----------------| 
|1|Login to SCE with user "user\_A" and navigate to the "programs" folder study "study\_A"|User should be navigated to the "programs" folder| 
|2|Upload the attached program file "warning\_error\_prog.sas" to the "programs" folder|The program file should be uploaded| 
|3|Execute the above mentioned SAS Program|The program execution should fail.| 
|4|After navigating to the program Run History and clicking on the respective program execution number, verify the color codes of error message and stack trace|\- The run details should show the error message ("Input not found") in red color<br><br>\- The Stack Trace should be shown in a different color (dark brown color)<br><br>\[US#24040\]| 
|5|Now create a folder "data" under the study and then upload the file "raw\_dm.sas7bdat".|The file should be successfully uploaded under the newly created folder "data"| 
|6|Now, again execute the above mentioned SAS Program "warning\_error\_prog.sas"|The program execution should fail.| 
|7|After navigating to the program Run History and clicking on the corresponding program execution number, verify the color codes of error and warning messages|\- The run details should show the error message  in red color<br><br>\- The warning message should be shown in orange color<br><br>\[US#24040\]| 
|8|Create a workspace wks01|Verify that workspace wks01 will be created with all the folders and files copied from the study  "study\_A"<br><br>  <br><br>\[Bug 20545\]| 
|9|In the Windows File Share, add a program  dm\_sas7bdat.sas in to programs folder and then navigate to the same program in SCE UI|Verify the 'Run' icon is available for program execution<br><br>  <br><br>\[Bug 26680\]| 
|10|Execute the same program through SCE UI.|The program execution should should pass<br><br>\[Bug 25011\]<br><br>  <br><br>\[Bug 21349\]| 
|11|Copy a program file dm\_sas7bdat.sas  from study "study\_A" into workspace wks01 programs folder<br><br>  <br><br>Check the action menu against  dm\_sas7bdat.sas|Verify that run option is displayed in the action menu of dm\_sas7bdat.sas<br><br>  <br><br>  <br><br>\[Bug 20545\]| 
|12|Navigate to the file edit mode of  dm\_sas7bdat.sas|Verify that run option is displayed in the header tool bar of dm\_sas7bdat.sas<br><br>  <br><br>\[Bug 20545\]| 
|13|In the Windows File Share, navigate to the programs folder of workspace wks01 and add a sub folder '**prg1**' having programs '**file\_copier.rb**' and **'dm\_sas7bdat\_prog'**|Verify the folder should be successfully created with required programs in File share| 
|14|Navigate to edit mode of the program ''**file\_copier.rb**' in SCE UI|Verify the 'Run' icon is available for program execution<br><br>  <br><br>\[Bug 26680\]| 
|15|Navigate to edit mode of the program **'dm\_sas7bdat\_prog'** in SCE UI|Verify the 'Run' icon is available for program execution<br><br>  <br><br>\[Bug 26680\]| 
|16|Login to SCE with user "user\_A" and navigate to the "programs" folder study "study\_A"<br><br>Run the program **dm\_sas7bdat\_prog** via the Actions menu<br><br>Stop the execution by clicking Stop from the Action Menu.|  <br><br>  <br><br>  <br><br>Verify that the execution is stopped.<br><br>\[BUG 32835\]\[Bug 43194\]| 
|17|Click on Run Again|Verify that the program is executed successfully. <br><br>\[BUG 32835\]\[Bug 43194\]| 
|18|Click on history via Actions menu<br><br>​|Verify that the stopped job is displayed with a status error. <br><br>\[BUG 32835\]\[Bug 43194\]| 
|19|Login as org admin and remove UserA from the Library which has the all the macros, e.g., Sycamore|Verify userA is removed.<br><br>  <br><br>\[Bug 33240\]| 
|20|Login as UserA , navigate to study\_A and Execute the SAS program and Observe<br><br>  <br><br>Navigate to Job History and Observe|Verify Program should fail.<br><br>  <br><br>Verify the the Job history should not display any Exception error. It should display error like "Insufficient Authorization to access the Library ...."<br><br>  <br><br>\[Bug 33240\]| 
|21|Navigate to StudyA.<br><br>Navigate to Programs folder->adams<br><br>execute the program adae.sas|Verify the program should be executed and should not encounter errors<br><br>  <br><br>  <br><br>**​​​​​​​Note : The program Macro file Library References as below paths but this not used by program. So the program should not throw any error though we have these reference which are unused by SAS program** <br><br>Masterdata/data/unblinded/sdtm<br><br>Masterdata/data/unblinded/adam <br><br>  <br><br>**\[BUG 39380\]**| 
|22|Navigate to data folder and create a folder "api".<br><br>Upload the attached file "sasmacr.sas7bcat" in api folder under data.|Verify that file is uploaded successfully.<br><br>  <br><br>\[BUG 61517\]| 
|23|Navigate to programs folder and create a folder "api".<br><br>  <br><br>Upload the attached program **user\_management\_csls\_test.sas** in api folder under programs.<br><br>  <br><br>**Note**: This SAS program invokes API to unassign the user from the study and reassign the user to the study|Verify that program is uploaded successfully and user is invited to the study.<br><br>  <br><br>\[BUG 61517\]| 
|24|Run the program **user\_management\_csls\_test**.**sas.**<br><br>  <br><br>  <br><br>Navigate to Job history of the program **user\_management\_csls\_test**.**sas.**|Verify that program got executed and the log file **user\_management\_csls\_test**.**log** is generated in api folder under programs.<br><br>  <br><br>Verify that the Job history does not display any error like "Command execution FAILED !!!" at the end of the page.<br><br>  <br><br>\[BUG 61517\]| 
|25|Verify the content of the log file **user\_management\_csls\_test**.**log**|Verify that log file has the text "**_NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414_"** at the end of the file before the text "_NOTE: The SAS System used:   <br>      real time    <br>      cpu time_   ".<br><br>  <br><br>**Note**: Even if the program fails, verify that log file is not partial. Complete log file should get generated i.e. it should have the below text at the end of the log file irrespective of program execution status (Pass/Fail).<br><br>  <br><br>"**_NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414_"** at the end of the file before the text "_NOTE: The SAS System used:   <br>      real time    <br>      cpu time_   ".<br><br>  <br><br>\[BUG 61517\]| 
|26|Observe the audit log.<br><br>  <br><br>  <br><br>Navigate to Access page and click on Access List History|Verify that audit log should have entries for Study Role Assignment Create and Study Role Assignment Delete. <br><br>  <br><br>Verify that Access List History page should have entries for Study Role Assignment Create and Study Role Assignment Delete. <br><br>  <br><br>  <br><br>\[BUG 61517\]| 
|27|Navigate to a workspace -> programs<br><br>Create the below program test\_detect.sas<br><br>  <br><br>%autoexec;  <br>%init;  <br>Libname raw '../data';  <br>Libname sdtm  '../data/';<br><br>data sdtm.dm1;  <br>set raw.raw\_dm;<br><br>proc contents data=sdtm.dm1;  <br>run;<br><br>  <br><br>  <br><br>Click on Detect dependency <br><br>  <br><br>  <br><br>Run the program<br><br>  <br><br>  <br><br>View the traceability report for the job|Verify that the program is created successfully<br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>  <br><br>Verify that the detected dependency is displayed successfully<br><br>  <br><br>  <br><br>Verify that the program is run successfully and no error/warning is displayed in the log file.<br><br>  <br><br>Verify that all the macros, followed by input and output files are displayed in the traceability report:<br><br>  <br><br>  <br><br>\[BUG 61517\]|